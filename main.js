!function(){"use strict";var e=class{constructor(e,t){let{data:s,handleImageClick:r,handleDeleteButton:n,handleLikeButton:i}=e;this._name=s.name,this._link=s.link,this._id=s._id,this._isLiked=s.isLiked,this._cardSelctor=t,this._handleImageClick=r,this._handleDeleteButton=n,this._handleLikeButton=i}_setEventListeners(){this._cardElement.querySelector(".elements__delete-button").addEventListener("click",(()=>{this._handleDeleteButton(this)})),this._cardElement.querySelector(".elements__like-button").addEventListener("click",(()=>{this._handleLikeButton(this)})),this._cardImage.addEventListener("click",(()=>{this._handleImageClick(this._data)}))}removeCardElement(){this._cardElement.remove(),this._cardElement=null}isLiked(){return this._isLiked}_renderLikes(){this._isLiked?this._cardElement.querySelector(".elements__like-button").classList.add("elements__like-button_active"):this._cardElement.querySelector(".elements__like-button").classList.remove("elements__like-button_active")}setIsLiked(e){this._isLiked=e,this._renderLikes()}getCardElement(){return this._cardElement=document.querySelector(this._cardSelctor).content.querySelector(".elements__cards").cloneNode(!0),this._cardImage=this._cardElement.querySelector(".elements__image"),this._cardTitle=this._cardElement.querySelector(".elements__title"),this._cardImage.src=this._link,this._cardImage.alt=this._name,this._cardTitle.textContent=this._name,this._renderLikes(),this._setEventListeners(),this._cardElement}},t=class{constructor(e,t){this._data=e,this._formSelector=e.formSelector,this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._formElement=t,this._inputList=[...this._formElement.querySelectorAll(this._inputSelector)],this._buttonElement=t.querySelector(e.submitButtonSelector)}_showInputError(e,t){this._errorElement=this._formElement.querySelector(`.${e.id}-error`),e.classList.add(this._inputErrorClass),this._errorElement.textContent=t,this._errorElement.classList.add(this._errorClass)}_hideInputError(e){this._errorElement=this._formElement.querySelector(`.${e.id}-error`),e.classList.remove(this._inputErrorClass),this._errorElement.classList.remove(this._errorClass),this._errorElement.textContent=""}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}_hasInvalidInput(){return this._inputList.some((e=>!e.validity.valid))}_toggleButtonState(){this._hasInvalidInput()?this._disableButton():this._enableButton()}_setEventListeners(){this._toggleButtonState(),this._inputList.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButtonState()}))}))}_disableButton(){this._buttonElement.classList.add(this._inactiveButtonClass),this._buttonElement.setAttribute("disabled","true")}_enableButton(){this._buttonElement.classList.remove(this._inactiveButtonClass),this._buttonElement.removeAttribute("disabled")}enableValidation(){this._formElement.addEventListener("submit",(e=>{e.preventDefault(),this._disableButton()})),this._setEventListeners()}resetValidation(){this._inputList.forEach((e=>{this._hideInputError(e)}))}};class s{constructor(e){this._popupElement=document.querySelector(e)}_handleEscClose=e=>{"Escape"===e.key&&this.close()};setEventListeners(){this._closeButton=this._popupElement.querySelector(".modal__close"),this._closeButton.addEventListener("click",(()=>{this.close()})),this._popupElement.addEventListener("mousedown",(e=>{e.target===e.currentTarget&&this.close()}))}open(){this._popupElement.classList.add("modal_opened"),document.addEventListener("keydown",this._handleEscClose)}close(){this._popupElement.classList.remove("modal_opened"),document.removeEventListener("keydown",this._handleEscClose)}}class r extends s{constructor(e,t){let{handleFormSubmit:s}=e;super(t),this._handleFormSubmit=s,this._popupForm=this._popupElement.querySelector(".modal__form"),this._inputList=document.querySelectorAll(".modal__input"),this._saveButton=this._popupForm.querySelector(".modal__button-save"),this._saveButtonText=this._saveButton.textContent}_getInputValues(){return this._formContent={},this._inputList.forEach((e=>{this._formContent[e.name]=e.value})),this._formContent}setEventListeners(){this._popupForm.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit(this._getInputValues())})),super.setEventListeners()}resetForm(){this._popupForm.reset()}handleLoadingText(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Saving...";this._saveButton.textContent=e?t:this._saveButtonText}}const n=document.querySelector(".profile__edit-button"),i=document.querySelector(".profile__add-button"),o=document.querySelector(".profile__avatar-button"),a=document.querySelector(".modal__input_name"),l=document.querySelector(".modal__input_job"),d={},h=new class{constructor(e,t){this._baseUrl=e,this._header=t}_checkPromise(e){return e.ok?e.json():Promise.reject(`Error:${e.status}`)}_getFetch(e,t){return fetch(e,t).then(this._checkPromise)}getInitialCards(){return this._getFetch(`${this._baseUrl}/cards`,{headers:this._header})}getUserInfo(){return this._getFetch(`${this._baseUrl}/users/me`,{headers:this._header}).then((e=>e))}editProfile(e,t){return this._getFetch(`${this._baseUrl}/users/me`,{method:"PATCH",headers:this._header,body:JSON.stringify({name:e,about:t})})}addNewCard(e,t){return this._getFetch(`${this._baseUrl}/cards`,{method:"POST",headers:this._header,body:JSON.stringify({name:e,link:t})})}deleteCard(e){return this._getFetch(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:this._header})}addLikes(e){return this._getFetch(`${this._baseUrl}/cards/${e}/likes`,{method:"PUT",headers:this._header})}removeLikes(e){return this._getFetch(`${this._baseUrl}/cards/${e}/likes`,{method:"DELETE",headers:this._header})}updateAvatar(e){return this._getFetch(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:this._header,body:JSON.stringify({avatar:e})})}}("https://around-api.en.tripleten-services.com/v1",{authorization:"57aa7463-f839-44ea-835b-493cff8bea63","Content-Type":"application/json"});h.getInitialCards().then((e=>{e.forEach((e=>{m.appendItem(u(e))}))})).catch(console.error),h.getUserInfo().then((e=>{v.setUserInfo({name:e.name,job:e.about}),v.setUserAvatar(e.avatar)})).catch((e=>{console.error(e)}));const _=e=>{b.open(),b.setHandleDeleteMethod((()=>{h.deleteCard(e._id).then((()=>{e.removeCardElement(),b.close()})).catch((e=>console.error(e)))}))},c=e=>{e.isLiked()?h.removeLikes(e._id).then((t=>{e.setIsLiked(t.isLiked)})).catch((e=>console.error(e))):h.addLikes(e._id).then((t=>{e.setIsLiked(t.isLiked)})).catch((e=>console.error(e)))},u=t=>new e({data:t,handleImageClick:()=>{p.open(t)},handleDeleteButton:_,handleLikeButton:c},"#card-templete").getCardElement(),m=new class{constructor(e,t){let{items:s,renderer:r}=e;this._items=s,this._renderer=r,this._container=document.querySelector(t)}rendererItems(){this._items.forEach((e=>{this._renderer(e)}))}prependItem(e){this._container.prepend(e)}appendItem(e){this._container.append(e)}}({items:[],renderer:u},".elements__container"),p=new class extends s{constructor(e){super(e),this._popupImage=this._popupElement.querySelector(".modal__picture_large"),this._popupImageTitle=this._popupElement.querySelector(".modal__picture_title")}open(e){this._popupImage.src=e.link,this._popupImage.alt=e.name,this._popupImageTitle.textContent=e.name,super.open()}}("#modal__picture"),v=new class{constructor(e,t){let{nameSelector:s,jobSelector:r,avatarSelector:n}=e;this._profileName=document.querySelector(s),this._profileJob=document.querySelector(r),this._profileAvatar=document.querySelector(n)}getUserInfo(){return{name:this._profileName.textContent,job:this._profileJob.textContent,avatar:this._profileAvatar.src}}setUserInfo(e){let{name:t,job:s}=e;this._profileName.textContent=t,this._profileJob.textContent=s}setUserAvatar(e){this._profileAvatar.src=e}}({nameSelector:".profile__title",jobSelector:".profile__subtitle",avatarSelector:".profile__avatar"},"#modal__edit"),E=new r({handleFormSubmit:e=>{E.handleLoadingText(!0),h.addNewCard(e.name,e.link).then((e=>{m.prependItem(u(e)),E.resetForm(),E.close()})).catch((e=>console.error(e))).finally((()=>{E.handleLoadingText(!1)}))}},"#modal__add"),L=new r({handleFormSubmit:e=>{L.handleLoadingText(!0),h.editProfile(e.title,e.description).then((e=>{const t={};t.name=e.name,t.job=e.about,v.setUserInfo(t)})).catch((e=>console.error(e))).finally((()=>{L.handleLoadingText(!1)}))}},"#modal__edit"),b=new class extends s{constructor(e){super(e)}setHandleDeleteMethod(e){this._handleDeleteSubmit=e}setEventListeners(){this._popupElement.querySelector(".modal__button-confirm").addEventListener("click",(e=>{e.preventDefault(),this._handleDeleteSubmit()})),super.setEventListeners()}}("#modal__delete"),S=new r({handleFormSubmit:e=>{S.handleLoadingText(!0),h.updateAvatar(e.avatar).then((e=>{v.setUserAvatar(e.avatar)})).catch((e=>console.error(e))).finally((()=>S.handleLoadingText(!1)))}},"#modal__avatar");var f;p.setEventListeners(),E.setEventListeners(),L.setEventListeners(),b.setEventListeners(),S.setEventListeners(),n.addEventListener("click",(()=>{L.open();const e=v.getUserInfo();a.value=e.name,l.value=e.job,d["profile-form"].resetValidation()})),i.addEventListener("click",(()=>{E.open()})),o.addEventListener("click",(()=>{S.open()})),f={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__button-save",inactiveButtonClass:"modal__button-save_inactive",inputErrorClass:"modal__input_type_error",errorClass:"modal__input-error_active"},Array.from(document.querySelectorAll(f.formSelector)).forEach((e=>{const s=new t(f,e),r=e.getAttribute("id");d[r]=s,s.enableValidation()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Y3RDLEVBQUkyQixPQUFPLElBRW5DTSxPQUFPTSxHQUFRTCxRQUFRQyxNQUFNSSxLQUM3QjRCLFNBQVEsSUFBTVEsRUFBZ0I3RixtQkFBa0IsSUFBTyxHQXdFMUQsa0JBNkJ3QjhGLE1BeEIxQmpDLEVBQWVoRixvQkFDZnNHLEVBQWF0RyxvQkFDYnlHLEVBQWN6RyxvQkFDZDZFLEVBQVk3RSxvQkFDWmdILEVBQWdCaEgsb0JBR2hCeUIsRUFBV3ZGLGlCQUFpQixTQUFTLEtBQ25DdUssRUFBY3JHLE9BQ2QsTUFBTXlHLEVBQWMxRCxFQUFTRCxjQUM3QnRCLEVBQVVaLE1BQVE2RixFQUFZeEwsS0FDOUJ3RyxFQUFTYixNQUFRNkYsRUFBWW5DLElBQzdCNUMsRUFBZSxnQkFBZ0JyQyxpQkFBaUIsSUFHbERpQyxFQUFVeEYsaUJBQWlCLFNBQVMsS0FDbENvSyxFQUFhbEcsTUFBTSxJQUdyQnVCLEVBQWF6RixpQkFBaUIsU0FBUyxLQUNyQzhLLEVBQWdCNUcsTUFBTSxJQUlFNkcsRURwS0osQ0FDcEI1SixhQUFjLGVBQ2RFLGNBQWUsZ0JBQ2ZFLHFCQUFzQixzQkFDdEJFLG9CQUFxQiw4QkFDckJFLGdCQUFpQiwwQkFDakJFLFdBQVksNkJDK0pLbUosTUFBTUMsS0FBS3ZLLFNBQVNzQixpQkFBaUIrSSxFQUFPNUosZUFFcEQ4QixTQUFTaEMsSUFDaEIsTUFBTWlLLEVBQVksSUFBSUMsRUFBY0osRUFBUTlKLEdBQ3RDbUssRUFBV25LLEVBQVlvSyxhQUFhLE1BRTFDekYsRUFBZXdGLEdBQVlGLEVBQzNCQSxFQUFVOUgsa0JBQWtCLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhWZXJpZnkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgQ2FyZCB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHsgZGF0YSwgaGFuZGxlSW1hZ2VDbGljaywgaGFuZGxlRGVsZXRlQnV0dG9uLCBoYW5kbGVMaWtlQnV0dG9uIH0sXG4gICAgY2FyZFNlbGVjdG9yXG4gICkge1xuICAgIHRoaXMuX25hbWUgPSBkYXRhLm5hbWU7XG4gICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcbiAgICB0aGlzLl9pZCA9IGRhdGEuX2lkO1xuICAgIHRoaXMuX2lzTGlrZWQgPSBkYXRhLmlzTGlrZWQ7XG4gICAgdGhpcy5fY2FyZFNlbGN0b3IgPSBjYXJkU2VsZWN0b3I7XG4gICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayA9IGhhbmRsZUltYWdlQ2xpY2s7XG4gICAgdGhpcy5faGFuZGxlRGVsZXRlQnV0dG9uID0gaGFuZGxlRGVsZXRlQnV0dG9uO1xuICAgIHRoaXMuX2hhbmRsZUxpa2VCdXR0b24gPSBoYW5kbGVMaWtlQnV0dG9uO1xuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2NhcmRFbGVtZW50XG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50c19fZGVsZXRlLWJ1dHRvblwiKVxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUJ1dHRvbih0aGlzKTtcbiAgICAgIH0pO1xuXG4gICAgdGhpcy5fY2FyZEVsZW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzX19saWtlLWJ1dHRvblwiKVxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2hhbmRsZUxpa2VCdXR0b24odGhpcyk7XG4gICAgICB9KTtcblxuICAgIHRoaXMuX2NhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayh0aGlzLl9kYXRhKTtcbiAgICB9KTtcbiAgfVxuXG4gIHJlbW92ZUNhcmRFbGVtZW50KCkge1xuICAgIHRoaXMuX2NhcmRFbGVtZW50LnJlbW92ZSgpO1xuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gbnVsbDtcbiAgfVxuXG4gIC8vIHRvZ2dsZUxpa2VFbGVtZW50KCkge1xuICAvLyAgIHRoaXMuX2NhcmRFbGVtZW50XG4gIC8vICAgICAucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50c19fbGlrZS1idXR0b25cIilcbiAgLy8gICAgIC5jbGFzc0xpc3QudG9nZ2xlKFwiZWxlbWVudHNfX2xpa2UtYnV0dG9uX2FjdGl2ZVwiKTtcbiAgLy8gfVxuXG4gIGlzTGlrZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lzTGlrZWQ7XG4gIH1cblxuICBfcmVuZGVyTGlrZXMoKSB7XG4gICAgaWYgKHRoaXMuX2lzTGlrZWQpIHtcbiAgICAgIHRoaXMuX2NhcmRFbGVtZW50XG4gICAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzX19saWtlLWJ1dHRvblwiKVxuICAgICAgICAuY2xhc3NMaXN0LmFkZChcImVsZW1lbnRzX19saWtlLWJ1dHRvbl9hY3RpdmVcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2NhcmRFbGVtZW50XG4gICAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzX19saWtlLWJ1dHRvblwiKVxuICAgICAgICAuY2xhc3NMaXN0LnJlbW92ZShcImVsZW1lbnRzX19saWtlLWJ1dHRvbl9hY3RpdmVcIik7XG4gICAgfVxuICB9XG5cbiAgc2V0SXNMaWtlZChpc0xpa2VkKSB7XG4gICAgdGhpcy5faXNMaWtlZCA9IGlzTGlrZWQ7XG4gICAgdGhpcy5fcmVuZGVyTGlrZXMoKTtcbiAgfVxuXG4gIGdldENhcmRFbGVtZW50KCkge1xuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gZG9jdW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxjdG9yKVxuICAgICAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50c19fY2FyZHNcIilcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XG5cbiAgICB0aGlzLl9jYXJkSW1hZ2UgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzX19pbWFnZVwiKTtcbiAgICB0aGlzLl9jYXJkVGl0bGUgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzX190aXRsZVwiKTtcbiAgICB0aGlzLl9jYXJkSW1hZ2Uuc3JjID0gdGhpcy5fbGluaztcbiAgICB0aGlzLl9jYXJkSW1hZ2UuYWx0ID0gdGhpcy5fbmFtZTtcbiAgICB0aGlzLl9jYXJkVGl0bGUudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xuXG4gICAgdGhpcy5fcmVuZGVyTGlrZXMoKTtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuXG4gICAgcmV0dXJuIHRoaXMuX2NhcmRFbGVtZW50O1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENhcmQ7XG4iLCJjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3IoZGF0YSwgZm9ybUVsZW1lbnQpIHtcbiAgICB0aGlzLl9kYXRhID0gZGF0YTtcbiAgICB0aGlzLl9mb3JtU2VsZWN0b3IgPSBkYXRhLmZvcm1TZWxlY3RvcjtcbiAgICB0aGlzLl9pbnB1dFNlbGVjdG9yID0gZGF0YS5pbnB1dFNlbGVjdG9yO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gZGF0YS5zdWJtaXRCdXR0b25TZWxlY3RvcjtcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gZGF0YS5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xuICAgIHRoaXMuX2lucHV0RXJyb3JDbGFzcyA9IGRhdGEuaW5wdXRFcnJvckNsYXNzO1xuICAgIHRoaXMuX2Vycm9yQ2xhc3MgPSBkYXRhLmVycm9yQ2xhc3M7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBbXG4gICAgICAuLi50aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpLFxuICAgIF07XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudCA9IGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoZGF0YS5zdWJtaXRCdXR0b25TZWxlY3Rvcik7XG4gIH1cblxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBlcnJvck1lc3NhZ2UpIHtcbiAgICB0aGlzLl9lcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXG4gICAgKTtcblxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgdGhpcy5fZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xuICAgIHRoaXMuX2Vycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQ2xhc3MpO1xuICB9XG5cbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xuICAgIHRoaXMuX2Vycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcbiAgICApO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgdGhpcy5fZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XG4gICAgdGhpcy5fZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcbiAgfVxuXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KSB7XG4gICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9XG4gIH1cblxuICBfaGFzSW52YWxpZElucHV0KCkge1xuICAgIHJldHVybiB0aGlzLl9pbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICByZXR1cm4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcbiAgICB9KTtcbiAgfVxuXG4gIF90b2dnbGVCdXR0b25TdGF0ZSgpIHtcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcbiAgICAgIHRoaXMuX2Rpc2FibGVCdXR0b24oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fZW5hYmxlQnV0dG9uKCk7XG4gICAgfVxuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG5cbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCk7XG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIF9kaXNhYmxlQnV0dG9uKCkge1xuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsIFwidHJ1ZVwiKTtcbiAgfVxuXG4gIF9lbmFibGVCdXR0b24oKSB7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIik7XG4gIH1cblxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX2Zvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLl9kaXNhYmxlQnV0dG9uKCk7XG4gICAgfSk7XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIHJlc2V0VmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEZvcm1WYWxpZGF0b3I7XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xuICB9XG5cbiAgX2hhbmRsZUVzY0Nsb3NlID0gKGV2dCkgPT4ge1xuICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9O1xuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2Nsb3NlQnV0dG9uID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Nsb3NlXCIpO1xuXG4gICAgdGhpcy5fY2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9KTtcblxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIChldnQpID0+IHtcbiAgICAgIGlmIChldnQudGFyZ2V0ID09PSBldnQuY3VycmVudFRhcmdldCkge1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBvcGVuKCkge1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwibW9kYWxfb3BlbmVkXCIpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwibW9kYWxfb3BlbmVkXCIpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHsgaGFuZGxlRm9ybVN1Ym1pdCB9LCBwb3B1cFNlbGVjdG9yKSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XG4gICAgdGhpcy5fcG9wdXBGb3JtID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Zvcm1cIik7XG4gICAgdGhpcy5faW5wdXRMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5tb2RhbF9faW5wdXRcIik7XG4gICAgdGhpcy5fc2F2ZUJ1dHRvbiA9IHRoaXMuX3BvcHVwRm9ybS5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19idXR0b24tc2F2ZVwiKTtcbiAgICB0aGlzLl9zYXZlQnV0dG9uVGV4dCA9IHRoaXMuX3NhdmVCdXR0b24udGV4dENvbnRlbnQ7XG4gIH1cblxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XG4gICAgdGhpcy5fZm9ybUNvbnRlbnQgPSB7fTtcblxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgdGhpcy5fZm9ybUNvbnRlbnRbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcy5fZm9ybUNvbnRlbnQ7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9wb3B1cEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XG4gICAgICAvLyAvLyB0aGlzLmNsb3NlKCk7XG4gICAgICAvLyB0aGlzLl9wb3B1cEZvcm0ucmVzZXQoKTtcbiAgICB9KTtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG5cbiAgcmVzZXRGb3JtKCkge1xuICAgIHRoaXMuX3BvcHVwRm9ybS5yZXNldCgpO1xuICB9XG5cbiAgaGFuZGxlTG9hZGluZ1RleHQoaXNMb2FkaW5nLCBsb2FkaW5nVGV4dCA9IFwiU2F2aW5nLi4uXCIpIHtcbiAgICBpZiAoaXNMb2FkaW5nKSB7XG4gICAgICB0aGlzLl9zYXZlQnV0dG9uLnRleHRDb250ZW50ID0gbG9hZGluZ1RleHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3NhdmVCdXR0b24udGV4dENvbnRlbnQgPSB0aGlzLl9zYXZlQnV0dG9uVGV4dDtcbiAgICB9XG4gIH1cbn1cbiIsIi8vIGV4cG9ydCBjb25zdCBpbml0aWFsQ2FyZHMgPSBbXG4vLyAgIHtcbi8vICAgICBuYW1lOiBcIllvc2VtaXRlIFZhbGxleVwiLFxuLy8gICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC95b3NlbWl0ZS5qcGdcIixcbi8vICAgfSxcbi8vICAge1xuLy8gICAgIG5hbWU6IFwiTGFrZSBMb3Vpc2VcIixcbi8vICAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvbGFrZS1sb3Vpc2UuanBnXCIsXG4vLyAgIH0sXG4vLyAgIHtcbi8vICAgICBuYW1lOiBcIkJhbGQgTW91bnRhaW5zXCIsXG4vLyAgICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2JhbGQtbW91bnRhaW5zLmpwZ1wiLFxuLy8gICB9LFxuLy8gICB7XG4vLyAgICAgbmFtZTogXCJMYXRlbWFyXCIsXG4vLyAgICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2xhdGVtYXIuanBnXCIsXG4vLyAgIH0sXG4vLyAgIHtcbi8vICAgICBuYW1lOiBcIlZhbm9pc2UgTmF0aW9uYWwgUGFya1wiLFxuLy8gICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC92YW5vaXNlLmpwZ1wiLFxuLy8gICB9LFxuLy8gICB7XG4vLyAgICAgbmFtZTogXCJMYWdvIGRpIEJyYWllc1wiLFxuLy8gICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9sYWdvLmpwZ1wiLFxuLy8gICB9LFxuLy8gXTtcblxuZXhwb3J0IGNvbnN0IGVkaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2VkaXQtYnV0dG9uXCIpO1xuXG5leHBvcnQgY29uc3QgYWRkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hZGQtYnV0dG9uXCIpO1xuXG5leHBvcnQgY29uc3QgYXZhdGFyQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hdmF0YXItYnV0dG9uXCIpO1xuXG5leHBvcnQgY29uc3QgaW5wdXROYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9faW5wdXRfbmFtZVwiKTtcblxuZXhwb3J0IGNvbnN0IGlucHV0Sm9iID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9faW5wdXRfam9iXCIpO1xuXG5leHBvcnQgY29uc3QgY29uZmlnID0ge1xuICBmb3JtU2VsZWN0b3I6IFwiLm1vZGFsX19mb3JtXCIsXG4gIGlucHV0U2VsZWN0b3I6IFwiLm1vZGFsX19pbnB1dFwiLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIubW9kYWxfX2J1dHRvbi1zYXZlXCIsXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwibW9kYWxfX2J1dHRvbi1zYXZlX2luYWN0aXZlXCIsXG4gIGlucHV0RXJyb3JDbGFzczogXCJtb2RhbF9faW5wdXRfdHlwZV9lcnJvclwiLFxuICBlcnJvckNsYXNzOiBcIm1vZGFsX19pbnB1dC1lcnJvcl9hY3RpdmVcIixcbn07XG5cbmV4cG9ydCBjb25zdCBmb3JtVmFsaWRhdG9ycyA9IHt9O1xuIiwiaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcbmltcG9ydCB7XG4gIGF2YXRhckJ1dHRvbixcbiAgZWRpdEJ1dHRvbixcbiAgYWRkQnV0dG9uLFxuICBjb25maWcsXG4gIGZvcm1WYWxpZGF0b3JzLFxuICBpbnB1dE5hbWUsXG4gIGlucHV0Sm9iLFxufSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XG5pbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xuaW1wb3J0IEFwaSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGkuanNcIjtcbmltcG9ydCBQb3B1cFdpdGhWZXJpZnkgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoVmVyaWZ5LmpzXCI7XG5cbi8vQXBpXG5jb25zdCBhcGkgPSBuZXcgQXBpKFwiaHR0cHM6Ly9hcm91bmQtYXBpLmVuLnRyaXBsZXRlbi1zZXJ2aWNlcy5jb20vdjFcIiwge1xuICBhdXRob3JpemF0aW9uOiBcIjU3YWE3NDYzLWY4MzktNDRlYS04MzViLTQ5M2NmZjhiZWE2M1wiLFxuICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbn0pO1xuXG5hcGlcbiAgLmdldEluaXRpYWxDYXJkcygpXG4gIC50aGVuKChyZXMpID0+IHtcbiAgICByZXMuZm9yRWFjaCgoY2FyZCkgPT4ge1xuICAgICAgbmV3U2VjdGlvbi5hcHBlbmRJdGVtKGNyZWF0ZUNhcmQoY2FyZCkpO1xuICAgIH0pO1xuICB9KVxuICAuY2F0Y2goY29uc29sZS5lcnJvcik7XG5cbmFwaVxuICAuZ2V0VXNlckluZm8oKVxuICAudGhlbigocmVzKSA9PiB7XG4gICAgdXNlckluZm8uc2V0VXNlckluZm8oe1xuICAgICAgbmFtZTogcmVzLm5hbWUsXG4gICAgICBqb2I6IHJlcy5hYm91dCxcbiAgICB9KTtcbiAgICB1c2VySW5mby5zZXRVc2VyQXZhdGFyKHJlcy5hdmF0YXIpO1xuICB9KVxuICAuY2F0Y2goKGVycikgPT4ge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgfSk7XG5cbi8vZnVuY3Rpb25zXG5jb25zdCBoYW5kbGVBZGRTdWJtaXQgPSAoZGF0YSkgPT4ge1xuICBhZGRGb3JtUG9wdXAuaGFuZGxlTG9hZGluZ1RleHQodHJ1ZSk7XG4gIGFwaVxuICAgIC5hZGROZXdDYXJkKGRhdGEubmFtZSwgZGF0YS5saW5rKVxuICAgIC50aGVuKChjYXJkRGF0YSkgPT4ge1xuICAgICAgbmV3U2VjdGlvbi5wcmVwZW5kSXRlbShjcmVhdGVDYXJkKGNhcmREYXRhKSk7XG4gICAgICBhZGRGb3JtUG9wdXAucmVzZXRGb3JtKCk7XG4gICAgICBhZGRGb3JtUG9wdXAuY2xvc2UoKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmVycm9yKGVycikpXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgYWRkRm9ybVBvcHVwLmhhbmRsZUxvYWRpbmdUZXh0KGZhbHNlKTtcbiAgICB9KTtcbn07XG5cbmNvbnN0IGhhbmRsZUVkaXRTdWJtaXQgPSAoaW5wdXRWYWx1ZSkgPT4ge1xuICBlZGl0Rm9ybVBvcHVwLmhhbmRsZUxvYWRpbmdUZXh0KHRydWUpO1xuICBhcGlcbiAgICAuZWRpdFByb2ZpbGUoaW5wdXRWYWx1ZS50aXRsZSwgaW5wdXRWYWx1ZS5kZXNjcmlwdGlvbilcbiAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgY29uc3QgcHJvZmlsZUluZm8gPSB7fTtcbiAgICAgIHByb2ZpbGVJbmZvLm5hbWUgPSBkYXRhLm5hbWU7XG4gICAgICBwcm9maWxlSW5mby5qb2IgPSBkYXRhLmFib3V0O1xuICAgICAgdXNlckluZm8uc2V0VXNlckluZm8ocHJvZmlsZUluZm8pO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoZXJyKSlcbiAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICBlZGl0Rm9ybVBvcHVwLmhhbmRsZUxvYWRpbmdUZXh0KGZhbHNlKTtcbiAgICB9KTtcbn07XG5cbmNvbnN0IGhhbmRsZURlbGV0ZUJ1dHRvbiA9IChjYXJkKSA9PiB7XG4gIGRlbGV0ZVBvcHVwLm9wZW4oKTtcbiAgZGVsZXRlUG9wdXAuc2V0SGFuZGxlRGVsZXRlTWV0aG9kKCgpID0+IHtcbiAgICBhcGlcbiAgICAgIC5kZWxldGVDYXJkKGNhcmQuX2lkKVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBjYXJkLnJlbW92ZUNhcmRFbGVtZW50KCk7XG4gICAgICAgIGRlbGV0ZVBvcHVwLmNsb3NlKCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoZXJyKSk7XG4gIH0pO1xufTtcblxuY29uc3QgaGFuZGxlQXZhdGFyU3VibWl0ID0gKGRhdGEpID0+IHtcbiAgYXZhdGFyRm9ybVBvcHVwLmhhbmRsZUxvYWRpbmdUZXh0KHRydWUpO1xuICBhcGlcbiAgICAudXBkYXRlQXZhdGFyKGRhdGEuYXZhdGFyKVxuICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgIHVzZXJJbmZvLnNldFVzZXJBdmF0YXIocmVzLmF2YXRhcik7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihlcnIpKVxuICAgIC5maW5hbGx5KCgpID0+IGF2YXRhckZvcm1Qb3B1cC5oYW5kbGVMb2FkaW5nVGV4dChmYWxzZSkpO1xufTtcblxuY29uc3QgaGFuZGxlTGlrZUJ1dHRvbiA9IChjYXJkKSA9PiB7XG4gIGlmIChjYXJkLmlzTGlrZWQoKSkge1xuICAgIGFwaVxuICAgICAgLnJlbW92ZUxpa2VzKGNhcmQuX2lkKVxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICBjYXJkLnNldElzTGlrZWQocmVzLmlzTGlrZWQpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmVycm9yKGVycikpO1xuICB9IGVsc2Uge1xuICAgIGFwaVxuICAgICAgLmFkZExpa2VzKGNhcmQuX2lkKVxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICBjYXJkLnNldElzTGlrZWQocmVzLmlzTGlrZWQpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmVycm9yKGVycikpO1xuICB9XG59O1xuXG4vL2NyZWF0ZSBjbGFzc2VzXG5jb25zdCBjcmVhdGVDYXJkID0gKGRhdGEpID0+IHtcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBuZXcgQ2FyZChcbiAgICB7XG4gICAgICBkYXRhLFxuICAgICAgaGFuZGxlSW1hZ2VDbGljazogKCkgPT4ge1xuICAgICAgICBwb3B1cFdpdGhJbWFnZS5vcGVuKGRhdGEpO1xuICAgICAgfSxcbiAgICAgIGhhbmRsZURlbGV0ZUJ1dHRvbixcbiAgICAgIGhhbmRsZUxpa2VCdXR0b24sXG4gICAgfSxcbiAgICBcIiNjYXJkLXRlbXBsZXRlXCJcbiAgKS5nZXRDYXJkRWxlbWVudCgpO1xuICByZXR1cm4gY2FyZEVsZW1lbnQ7XG59O1xuXG5jb25zdCBuZXdTZWN0aW9uID0gbmV3IFNlY3Rpb24oXG4gIHtcbiAgICBpdGVtczogW10sXG4gICAgcmVuZGVyZXI6IGNyZWF0ZUNhcmQsXG4gIH0sXG4gIFwiLmVsZW1lbnRzX19jb250YWluZXJcIlxuKTtcblxuY29uc3QgcG9wdXBXaXRoSW1hZ2UgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoXCIjbW9kYWxfX3BpY3R1cmVcIik7XG5cbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKFxuICB7XG4gICAgbmFtZVNlbGVjdG9yOiBcIi5wcm9maWxlX190aXRsZVwiLFxuICAgIGpvYlNlbGVjdG9yOiBcIi5wcm9maWxlX19zdWJ0aXRsZVwiLFxuICAgIGF2YXRhclNlbGVjdG9yOiBcIi5wcm9maWxlX19hdmF0YXJcIixcbiAgfSxcbiAgXCIjbW9kYWxfX2VkaXRcIlxuKTtcblxuY29uc3QgYWRkRm9ybVBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oXG4gIHsgaGFuZGxlRm9ybVN1Ym1pdDogaGFuZGxlQWRkU3VibWl0IH0sXG4gIFwiI21vZGFsX19hZGRcIlxuKTtcblxuY29uc3QgZWRpdEZvcm1Qb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKFxuICB7XG4gICAgaGFuZGxlRm9ybVN1Ym1pdDogaGFuZGxlRWRpdFN1Ym1pdCxcbiAgfSxcbiAgXCIjbW9kYWxfX2VkaXRcIlxuKTtcblxuY29uc3QgZGVsZXRlUG9wdXAgPSBuZXcgUG9wdXBXaXRoVmVyaWZ5KFwiI21vZGFsX19kZWxldGVcIik7XG5cbmNvbnN0IGF2YXRhckZvcm1Qb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKFxuICB7IGhhbmRsZUZvcm1TdWJtaXQ6IGhhbmRsZUF2YXRhclN1Ym1pdCB9LFxuICBcIiNtb2RhbF9fYXZhdGFyXCJcbik7XG5cbi8vY2FsbCBjbGFzcyBtZXRob2Rcbi8vIG5ld1NlY3Rpb24ucmVuZGVyZXJJdGVtcygpO1xucG9wdXBXaXRoSW1hZ2Uuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbmFkZEZvcm1Qb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuZWRpdEZvcm1Qb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuZGVsZXRlUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbmF2YXRhckZvcm1Qb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuXG4vL2NyZWF0ZSBidXR0b24gZXZlbnRMaXN0ZW5lcnNcbmVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgZWRpdEZvcm1Qb3B1cC5vcGVuKCk7XG4gIGNvbnN0IHByb2ZpbGVJbmZvID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcbiAgaW5wdXROYW1lLnZhbHVlID0gcHJvZmlsZUluZm8ubmFtZTtcbiAgaW5wdXRKb2IudmFsdWUgPSBwcm9maWxlSW5mby5qb2I7XG4gIGZvcm1WYWxpZGF0b3JzW1wicHJvZmlsZS1mb3JtXCJdLnJlc2V0VmFsaWRhdGlvbigpO1xufSk7XG5cbmFkZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBhZGRGb3JtUG9wdXAub3BlbigpO1xufSk7XG5cbmF2YXRhckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBhdmF0YXJGb3JtUG9wdXAub3BlbigpO1xufSk7XG5cbi8vZm9ybSB2YWxpZGF0aW9uXG5jb25zdCBlbmFibGVWYWxpZGF0aW9uID0gKGNvbmZpZykgPT4ge1xuICBjb25zdCBmb3JtTGlzdCA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChjb25maWcuZm9ybVNlbGVjdG9yKSk7XG5cbiAgZm9ybUxpc3QuZm9yRWFjaCgoZm9ybUVsZW1lbnQpID0+IHtcbiAgICBjb25zdCB2YWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihjb25maWcsIGZvcm1FbGVtZW50KTtcbiAgICBjb25zdCBmb3JtTmFtZSA9IGZvcm1FbGVtZW50LmdldEF0dHJpYnV0ZShcImlkXCIpO1xuXG4gICAgZm9ybVZhbGlkYXRvcnNbZm9ybU5hbWVdID0gdmFsaWRhdG9yO1xuICAgIHZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG4gIH0pO1xufTtcblxuZW5hYmxlVmFsaWRhdGlvbihjb25maWcpO1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcbiAgY29uc3RydWN0b3IoYmFzZVVybCwgaGVhZGVyKSB7XG4gICAgdGhpcy5fYmFzZVVybCA9IGJhc2VVcmw7XG4gICAgdGhpcy5faGVhZGVyID0gaGVhZGVyO1xuICB9XG5cbiAgX2NoZWNrUHJvbWlzZShyZXMpIHtcbiAgICBpZiAocmVzLm9rKSB7XG4gICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICB9XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjoke3Jlcy5zdGF0dXN9YCk7XG4gIH1cblxuICBfZ2V0RmV0Y2godXJsLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIGZldGNoKHVybCwgb3B0aW9ucykudGhlbih0aGlzLl9jaGVja1Byb21pc2UpO1xuICB9XG5cbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xuICAgIHJldHVybiB0aGlzLl9nZXRGZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcixcbiAgICB9KTtcbiAgfVxuXG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHJldHVybiB0aGlzLl9nZXRGZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcixcbiAgICB9KS50aGVuKCh1c2VySW5mbykgPT4ge1xuICAgICAgcmV0dXJuIHVzZXJJbmZvO1xuICAgIH0pO1xuICB9XG5cbiAgZWRpdFByb2ZpbGUobmFtZSwgYWJvdXQpIHtcbiAgICByZXR1cm4gdGhpcy5fZ2V0RmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcixcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbmFtZSxcbiAgICAgICAgYWJvdXQsXG4gICAgICB9KSxcbiAgICB9KTtcbiAgfVxuXG4gIGFkZE5ld0NhcmQobmFtZSwgbGluaykge1xuICAgIHJldHVybiB0aGlzLl9nZXRGZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXIsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG5hbWUsXG4gICAgICAgIGxpbmssXG4gICAgICB9KSxcbiAgICB9KTtcbiAgfVxuXG4gIGRlbGV0ZUNhcmQoY2FyZElkKSB7XG4gICAgcmV0dXJuIHRoaXMuX2dldEZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfWAsIHtcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcixcbiAgICB9KTtcbiAgfVxuXG4gIGFkZExpa2VzKGNhcmRJZCkge1xuICAgIHJldHVybiB0aGlzLl9nZXRGZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2NhcmRJZH0vbGlrZXNgLCB7XG4gICAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXIsXG4gICAgfSk7XG4gIH1cblxuICByZW1vdmVMaWtlcyhjYXJkSWQpIHtcbiAgICByZXR1cm4gdGhpcy5fZ2V0RmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9L2xpa2VzYCwge1xuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyLFxuICAgIH0pO1xuICB9XG5cbiAgdXBkYXRlQXZhdGFyKGF2YXRhcikge1xuICAgIHJldHVybiB0aGlzLl9nZXRGZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcixcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgYXZhdGFyLFxuICAgICAgfSksXG4gICAgfSk7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xuICBjb25zdHJ1Y3Rvcih7IGl0ZW1zLCByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xuICAgIHRoaXMuX2l0ZW1zID0gaXRlbXM7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcbiAgfVxuXG4gIHJlbmRlcmVySXRlbXMoKSB7XG4gICAgdGhpcy5faXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XG4gICAgfSk7XG4gIH1cblxuICBwcmVwZW5kSXRlbShlbGVtZW50KSB7XG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XG4gIH1cblxuICBhcHBlbmRJdGVtKGVsZW1lbnQpIHtcbiAgICB0aGlzLl9jb250YWluZXIuYXBwZW5kKGVsZW1lbnQpO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9wb3B1cEltYWdlID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBcIi5tb2RhbF9fcGljdHVyZV9sYXJnZVwiXG4gICAgKTtcbiAgICB0aGlzLl9wb3B1cEltYWdlVGl0bGUgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIFwiLm1vZGFsX19waWN0dXJlX3RpdGxlXCJcbiAgICApO1xuICB9XG5cbiAgb3BlbihkYXRhKSB7XG4gICAgdGhpcy5fcG9wdXBJbWFnZS5zcmMgPSBkYXRhLmxpbms7XG4gICAgdGhpcy5fcG9wdXBJbWFnZS5hbHQgPSBkYXRhLm5hbWU7XG4gICAgdGhpcy5fcG9wdXBJbWFnZVRpdGxlLnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xuICAgIHN1cGVyLm9wZW4oKTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xuICBjb25zdHJ1Y3Rvcih7IG5hbWVTZWxlY3Rvciwgam9iU2VsZWN0b3IsIGF2YXRhclNlbGVjdG9yIH0sIHBvcHVwU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9wcm9maWxlTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobmFtZVNlbGVjdG9yKTtcbiAgICB0aGlzLl9wcm9maWxlSm9iID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihqb2JTZWxlY3Rvcik7XG4gICAgdGhpcy5fcHJvZmlsZUF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYXZhdGFyU2VsZWN0b3IpO1xuICB9XG5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6IHRoaXMuX3Byb2ZpbGVOYW1lLnRleHRDb250ZW50LFxuICAgICAgam9iOiB0aGlzLl9wcm9maWxlSm9iLnRleHRDb250ZW50LFxuICAgICAgYXZhdGFyOiB0aGlzLl9wcm9maWxlQXZhdGFyLnNyYyxcbiAgICB9O1xuICB9XG5cbiAgLy9hIHB1YmxpYyBtZXRob2Qgd2hpY2ggdGFrZXMgbmV3IHVzZXIgZGF0YSBhbmQgYWRkcyBpdCB0byB0aGUgcGFnZVxuICBzZXRVc2VySW5mbyh7IG5hbWUsIGpvYiB9KSB7XG4gICAgdGhpcy5fcHJvZmlsZU5hbWUudGV4dENvbnRlbnQgPSBuYW1lO1xuICAgIHRoaXMuX3Byb2ZpbGVKb2IudGV4dENvbnRlbnQgPSBqb2I7XG4gIH1cblxuICBzZXRVc2VyQXZhdGFyKGF2YXRhcikge1xuICAgIHRoaXMuX3Byb2ZpbGVBdmF0YXIuc3JjID0gYXZhdGFyO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoVmVyaWZ5IGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gIH1cblxuICBzZXRIYW5kbGVEZWxldGVNZXRob2QoaGFuZGxlRGVsZXRlU3VibWl0KSB7XG4gICAgdGhpcy5faGFuZGxlRGVsZXRlU3VibWl0ID0gaGFuZGxlRGVsZXRlU3VibWl0O1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50XG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fYnV0dG9uLWNvbmZpcm1cIilcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2dCkgPT4ge1xuICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5faGFuZGxlRGVsZXRlU3VibWl0KCk7XG4gICAgICAgIC8vIHRoaXMuY2xvc2UoKTtcbiAgICAgIH0pO1xuXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbImNvbnN0cnVjdG9yIiwiX3JlZiIsImNhcmRTZWxlY3RvciIsImRhdGEiLCJoYW5kbGVJbWFnZUNsaWNrIiwiaGFuZGxlRGVsZXRlQnV0dG9uIiwiaGFuZGxlTGlrZUJ1dHRvbiIsInRoaXMiLCJfbmFtZSIsIm5hbWUiLCJfbGluayIsImxpbmsiLCJfaWQiLCJfaXNMaWtlZCIsImlzTGlrZWQiLCJfY2FyZFNlbGN0b3IiLCJfaGFuZGxlSW1hZ2VDbGljayIsIl9oYW5kbGVEZWxldGVCdXR0b24iLCJfaGFuZGxlTGlrZUJ1dHRvbiIsIl9zZXRFdmVudExpc3RlbmVycyIsIl9jYXJkRWxlbWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJhZGRFdmVudExpc3RlbmVyIiwiX2NhcmRJbWFnZSIsIl9kYXRhIiwicmVtb3ZlQ2FyZEVsZW1lbnQiLCJyZW1vdmUiLCJfcmVuZGVyTGlrZXMiLCJjbGFzc0xpc3QiLCJhZGQiLCJzZXRJc0xpa2VkIiwiZ2V0Q2FyZEVsZW1lbnQiLCJkb2N1bWVudCIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfY2FyZFRpdGxlIiwic3JjIiwiYWx0IiwidGV4dENvbnRlbnQiLCJmb3JtRWxlbWVudCIsIl9mb3JtU2VsZWN0b3IiLCJmb3JtU2VsZWN0b3IiLCJfaW5wdXRTZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJfc3VibWl0QnV0dG9uU2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsIl9pbnB1dEVycm9yQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJfZXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJfZm9ybUVsZW1lbnQiLCJfaW5wdXRMaXN0IiwicXVlcnlTZWxlY3RvckFsbCIsIl9idXR0b25FbGVtZW50IiwiX3Nob3dJbnB1dEVycm9yIiwiaW5wdXRFbGVtZW50IiwiZXJyb3JNZXNzYWdlIiwiX2Vycm9yRWxlbWVudCIsImlkIiwiX2hpZGVJbnB1dEVycm9yIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsInZhbGlkaXR5IiwidmFsaWQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9oYXNJbnZhbGlkSW5wdXQiLCJzb21lIiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiX2Rpc2FibGVCdXR0b24iLCJfZW5hYmxlQnV0dG9uIiwiZm9yRWFjaCIsInNldEF0dHJpYnV0ZSIsInJlbW92ZUF0dHJpYnV0ZSIsImVuYWJsZVZhbGlkYXRpb24iLCJldnQiLCJwcmV2ZW50RGVmYXVsdCIsInJlc2V0VmFsaWRhdGlvbiIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cEVsZW1lbnQiLCJfaGFuZGxlRXNjQ2xvc2UiLCJrZXkiLCJjbG9zZSIsInNldEV2ZW50TGlzdGVuZXJzIiwiX2Nsb3NlQnV0dG9uIiwidGFyZ2V0IiwiY3VycmVudFRhcmdldCIsIm9wZW4iLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZUZvcm1TdWJtaXQiLCJzdXBlciIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX3BvcHVwRm9ybSIsIl9zYXZlQnV0dG9uIiwiX3NhdmVCdXR0b25UZXh0IiwiX2dldElucHV0VmFsdWVzIiwiX2Zvcm1Db250ZW50IiwiaW5wdXQiLCJ2YWx1ZSIsInJlc2V0Rm9ybSIsInJlc2V0IiwiaGFuZGxlTG9hZGluZ1RleHQiLCJpc0xvYWRpbmciLCJsb2FkaW5nVGV4dCIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsImVkaXRCdXR0b24iLCJhZGRCdXR0b24iLCJhdmF0YXJCdXR0b24iLCJpbnB1dE5hbWUiLCJpbnB1dEpvYiIsImZvcm1WYWxpZGF0b3JzIiwiYXBpIiwiYmFzZVVybCIsImhlYWRlciIsIl9iYXNlVXJsIiwiX2hlYWRlciIsIl9jaGVja1Byb21pc2UiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiX2dldEZldGNoIiwidXJsIiwib3B0aW9ucyIsImZldGNoIiwidGhlbiIsImdldEluaXRpYWxDYXJkcyIsImhlYWRlcnMiLCJnZXRVc2VySW5mbyIsInVzZXJJbmZvIiwiZWRpdFByb2ZpbGUiLCJhYm91dCIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiYWRkTmV3Q2FyZCIsImRlbGV0ZUNhcmQiLCJjYXJkSWQiLCJhZGRMaWtlcyIsInJlbW92ZUxpa2VzIiwidXBkYXRlQXZhdGFyIiwiYXZhdGFyIiwiYXV0aG9yaXphdGlvbiIsImNhcmQiLCJuZXdTZWN0aW9uIiwiYXBwZW5kSXRlbSIsImNyZWF0ZUNhcmQiLCJjYXRjaCIsImNvbnNvbGUiLCJlcnJvciIsInNldFVzZXJJbmZvIiwiam9iIiwic2V0VXNlckF2YXRhciIsImVyciIsImRlbGV0ZVBvcHVwIiwic2V0SGFuZGxlRGVsZXRlTWV0aG9kIiwiQ2FyZCIsInBvcHVwV2l0aEltYWdlIiwiY29udGFpbmVyU2VsZWN0b3IiLCJpdGVtcyIsInJlbmRlcmVyIiwiX2l0ZW1zIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsInJlbmRlcmVySXRlbXMiLCJpdGVtIiwicHJlcGVuZEl0ZW0iLCJlbGVtZW50IiwicHJlcGVuZCIsImFwcGVuZCIsIl9wb3B1cEltYWdlIiwiX3BvcHVwSW1hZ2VUaXRsZSIsIm5hbWVTZWxlY3RvciIsImpvYlNlbGVjdG9yIiwiYXZhdGFyU2VsZWN0b3IiLCJfcHJvZmlsZU5hbWUiLCJfcHJvZmlsZUpvYiIsIl9wcm9maWxlQXZhdGFyIiwiX3JlZjIiLCJhZGRGb3JtUG9wdXAiLCJjYXJkRGF0YSIsImZpbmFsbHkiLCJlZGl0Rm9ybVBvcHVwIiwiaW5wdXRWYWx1ZSIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJwcm9maWxlSW5mbyIsImhhbmRsZURlbGV0ZVN1Ym1pdCIsIl9oYW5kbGVEZWxldGVTdWJtaXQiLCJhdmF0YXJGb3JtUG9wdXAiLCJjb25maWciLCJBcnJheSIsImZyb20iLCJ2YWxpZGF0b3IiLCJGb3JtVmFsaWRhdG9yIiwiZm9ybU5hbWUiLCJnZXRBdHRyaWJ1dGUiXSwic291cmNlUm9vdCI6IiJ9