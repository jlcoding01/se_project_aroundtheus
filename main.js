!function(){"use strict";var e=class{constructor(e,t){let{data:r,handleImageClick:s,handleDeleteButton:n,handleLikeButton:i}=e;this._name=r.name,this._link=r.link,this._id=r._id,this._cardSelctor=t,this._handleImageClick=s,this._handleDeleteButton=n,this._handleLikeButton=i}_setEventListeners(){this._cardElement.querySelector(".elements__delete-button").addEventListener("click",(()=>{this._handleDeleteButton(this)})),this._cardElement.querySelector(".elements__like-button").addEventListener("click",(()=>{this._handleLikeButton(this)})),this._cardImage.addEventListener("click",(()=>{this._handleImageClick(this._data)}))}removeCardElement(){this._cardElement.remove(),this._cardElement=null}toggleLikeElement(){this._cardElement.querySelector(".elements__like-button").classList.toggle("elements__like-button_active")}getCardElement(){return this._cardElement=document.querySelector(this._cardSelctor).content.querySelector(".elements__cards").cloneNode(!0),this._cardImage=this._cardElement.querySelector(".elements__image"),this._cardTitle=this._cardElement.querySelector(".elements__title"),this._cardImage.src=this._link,this._cardImage.alt=this._name,this._cardTitle.textContent=this._name,this._setEventListeners(),this._cardElement}},t=class{constructor(e,t){this._data=e,this._formSelector=e.formSelector,this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._formElement=t,this._inputList=[...this._formElement.querySelectorAll(this._inputSelector)],this._buttonElement=t.querySelector(e.submitButtonSelector)}_showInputError(e,t){this._errorElement=this._formElement.querySelector(`.${e.id}-error`),e.classList.add(this._inputErrorClass),this._errorElement.textContent=t,this._errorElement.classList.add(this._errorClass)}_hideInputError(e){this._errorElement=this._formElement.querySelector(`.${e.id}-error`),e.classList.remove(this._inputErrorClass),this._errorElement.classList.remove(this._errorClass),this._errorElement.textContent=""}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}_hasInvalidInput(){return this._inputList.some((e=>!e.validity.valid))}_toggleButtonState(){this._hasInvalidInput()?this._disableButton():this._enableButton()}_setEventListeners(){this._toggleButtonState(),this._inputList.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButtonState()}))}))}_disableButton(){this._buttonElement.classList.add(this._inactiveButtonClass),this._buttonElement.setAttribute("disabled","true")}_enableButton(){this._buttonElement.classList.remove(this._inactiveButtonClass),this._buttonElement.removeAttribute("disabled")}enableValidation(){this._formElement.addEventListener("submit",(e=>{e.preventDefault(),this._disableButton()})),this._setEventListeners()}resetValidation(){this._inputList.forEach((e=>{this._hideInputError(e)}))}};class r{constructor(e){this._popupElement=document.querySelector(e)}_handleEscClose=e=>{"Escape"===e.key&&this.close()};setEventListeners(){this._closeButton=this._popupElement.querySelector(".modal__close"),this._closeButton.addEventListener("click",(()=>{this.close()})),this._popupElement.addEventListener("mousedown",(e=>{e.target===e.currentTarget&&this.close()}))}open(){this._popupElement.classList.add("modal_opened"),document.addEventListener("keydown",this._handleEscClose)}close(){this._popupElement.classList.remove("modal_opened"),document.removeEventListener("keydown",this._handleEscClose)}}class s extends r{constructor(e,t){let{handleFormSubmit:r}=e;super(t),this._handleFormSubmit=r,this._popupForm=this._popupElement.querySelector(".modal__form"),this._inputList=document.querySelectorAll(".modal__input"),this._saveButton=this._popupForm.querySelector(".modal__button-save"),this._saveButtonText=this._saveButton.textContent}_getInputValues(){return this._formContent={},this._inputList.forEach((e=>{this._formContent[e.name]=e.value})),this._formContent}setEventListeners(){this._popupForm.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit(this._getInputValues()),this.close(),this._popupForm.reset()})),super.setEventListeners()}handleLoadingText(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Saving...";this._saveButton.textContent=e?t:this._saveButtonText}}const n=document.querySelector(".profile__edit-button"),i=document.querySelector(".profile__add-button"),o=document.querySelector(".profile__avatar-button"),a=document.querySelector(".modal__input_name"),l=document.querySelector(".modal__input_job"),h={},d=new class{constructor(e,t){this._baseUrl=e,this._header=t}_checkPromise(e){return e.ok?e.json():Promise.reject(`Error:${e.status}`)}_getFetch(e,t){return fetch(e,t).then(this._checkPromise)}getInitialCards(){return this._getFetch(`${this._baseUrl}/cards`,{headers:this._header})}getUserInfo(){return this._getFetch(`${this._baseUrl}/users/me`,{headers:this._header}).then((e=>e))}editProfile(e,t){return this._getFetch(`${this._baseUrl}/users/me`,{method:"PATCH",headers:this._header,body:JSON.stringify({name:e,about:t})})}addNewCard(e,t){return this._getFetch(`${this._baseUrl}/cards`,{method:"POST",headers:this._header,body:JSON.stringify({name:e,link:t})})}deleteCard(e){return this._getFetch(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:this._header})}addLikes(e){return this._getFetch(`${this._baseUrl}/cards/${e}/likes`,{method:"PUT",headers:this._header})}removeLikes(e){return this._getFetch(`${this._baseUrl}/cards/${e}/likes`,{method:"DELETE",headers:this._header})}updateAvatar(e){return this._getFetch(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:this._header,body:JSON.stringify({avatar:e})})}}("https://around-api.en.tripleten-services.com/v1",{authorization:"57aa7463-f839-44ea-835b-493cff8bea63","Content-Type":"application/json"});d.getInitialCards().then((e=>{e.forEach((e=>{u(e)}))})).catch(console.error),d.getUserInfo().then((e=>{E.setUserInfo({name:e.name,job:e.about}),E.setUserAvatar(e.avatar)})).catch((e=>{console.error(e)}));const _=e=>{L.open(),L.setHandleDeleteMethod((()=>{d.deleteCard(e._id).then((()=>{e.removeCardElement(),L.close()})).catch(console.error)}))},c=e=>{e.isLiked?d.removeLikes(e._id).then((()=>{e.isLiked=!e.isLiked,e.toggleLikeElement()})).catch((e=>console.error(e))):d.addLikes(e._id).then((()=>{e.isLiked=!e.isLiked,e.toggleLikeElement()})).catch((e=>console.error(e)))},u=t=>{m.addItem((t=>new e({data:t,handleImageClick:()=>{p.open(t)},handleDeleteButton:_,handleLikeButton:c},"#card-templete").getCardElement())(t))},m=new class{constructor(e,t){let{items:r,renderer:s}=e;this._items=r,this._renderer=s,this._container=document.querySelector(t)}rendererItems(){this._items.forEach((e=>{this._renderer(e)}))}addItem(e){this._container.prepend(e)}}({items:[],renderer:e=>{u(e)}},".elements__container"),p=new class extends r{constructor(e){super(e),this._popupImage=this._popupElement.querySelector(".modal__picture_large"),this._popupImageTitle=this._popupElement.querySelector(".modal__picture_title")}open(e){this._popupImage.src=e.link,this._popupImage.alt=e.name,this._popupImageTitle.textContent=e.name,super.open()}}("#modal__picture"),E=new class{constructor(e,t){let{nameSelector:r,jobSelector:s,avatarSelector:n}=e;this._profileName=document.querySelector(r),this._profileJob=document.querySelector(s),this._profileAvatar=document.querySelector(n)}getUserInfo(){return{name:this._profileName.textContent,job:this._profileJob.textContent,avatar:this._profileAvatar.src}}setUserInfo(e){let{name:t,job:r}=e;this._profileName.textContent=t,this._profileJob.textContent=r}setUserAvatar(e){this._profileAvatar.src=e}}({nameSelector:".profile__title",jobSelector:".profile__subtitle",avatarSelector:".profile__avatar"},"#modal__edit"),v=new s({handleFormSubmit:e=>{v.handleLoadingText(!0),d.addNewCard(e.name,e.link).then((e=>{u(e)})).catch((e=>console.error(e))).finally((()=>{v.handleLoadingText(!1)}))}},"#modal__add"),b=new s({handleFormSubmit:e=>{b.handleLoadingText(!0),d.editProfile(e.title,e.description).then((e=>{const t={};t.name=e.name,t.job=e.about,E.setUserInfo(t)})).catch((e=>console.error(e))).finally((()=>{b.handleLoadingText(!1)}))}},"#modal__edit"),L=new class extends r{constructor(e){super(e)}setHandleDeleteMethod(e){this._handleDeleteSubmit=e}setEventListeners(){this._popupElement.querySelector(".modal__button-confirm").addEventListener("click",(e=>{e.preventDefault(),this._handleDeleteSubmit()})),super.setEventListeners()}}("#modal__delete"),S=new s({handleFormSubmit:e=>{d.updateAvatar(e.avatar).then((e=>{E.setUserAvatar(e.avatar)}))}},"#modal__avatar");var g;m.rendererItems(),p.setEventListeners(),v.setEventListeners(),b.setEventListeners(),L.setEventListeners(),S.setEventListeners(),n.addEventListener("click",(()=>{b.open();const e=E.getUserInfo();a.value=e.name,l.value=e.job,h["profile-form"].resetValidation()})),i.addEventListener("click",(()=>{v.open()})),o.addEventListener("click",(()=>{S.open()})),g={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__button-save",inactiveButtonClass:"modal__button-save_inactive",inputErrorClass:"modal__input_type_error",errorClass:"modal__input-error_active"},Array.from(document.querySelectorAll(g.formSelector)).forEach((e=>{const r=new t(g,e),s=e.getAttribute("id");h[s]=r,r.enableValidation()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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NEYsRUFBWXJDLElBQzdCMUMsRUFBZSxnQkFBZ0JwQyxpQkFBaUIsSUFHbERnQyxFQUFVdkYsaUJBQWlCLFNBQVMsS0FDbENtSyxFQUFhakcsTUFBTSxJQUdyQnNCLEVBQWF4RixpQkFBaUIsU0FBUyxLQUNyQzZLLEVBQWdCM0csTUFBTSxJQUlFNEcsRUR0S0osQ0FDcEI1SixhQUFjLGVBQ2RFLGNBQWUsZ0JBQ2ZFLHFCQUFzQixzQkFDdEJFLG9CQUFxQiw4QkFDckJFLGdCQUFpQiwwQkFDakJFLFdBQVksNkJDaUtLbUosTUFBTUMsS0FBS3ZLLFNBQVNzQixpQkFBaUIrSSxFQUFPNUosZUFFcEQrQixTQUFTakMsSUFDaEIsTUFBTWlLLEVBQVksSUFBSUMsRUFBY0osRUFBUTlKLEdBQ3RDbUssRUFBV25LLEVBQVlvSyxhQUFhLE1BRTFDekYsRUFBZXdGLEdBQVlGLEVBQzNCQSxFQUFVN0gsa0JBQWtCLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhWZXJpZnkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgQ2FyZCB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHsgZGF0YSwgaGFuZGxlSW1hZ2VDbGljaywgaGFuZGxlRGVsZXRlQnV0dG9uLCBoYW5kbGVMaWtlQnV0dG9uIH0sXG4gICAgY2FyZFNlbGVjdG9yXG4gICkge1xuICAgIHRoaXMuX25hbWUgPSBkYXRhLm5hbWU7XG4gICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcbiAgICB0aGlzLl9pZCA9IGRhdGEuX2lkO1xuICAgIHRoaXMuX2NhcmRTZWxjdG9yID0gY2FyZFNlbGVjdG9yO1xuICAgIHRoaXMuX2hhbmRsZUltYWdlQ2xpY2sgPSBoYW5kbGVJbWFnZUNsaWNrO1xuICAgIHRoaXMuX2hhbmRsZURlbGV0ZUJ1dHRvbiA9IGhhbmRsZURlbGV0ZUJ1dHRvbjtcbiAgICB0aGlzLl9oYW5kbGVMaWtlQnV0dG9uID0gaGFuZGxlTGlrZUJ1dHRvbjtcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9jYXJkRWxlbWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNfX2RlbGV0ZS1idXR0b25cIilcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICB0aGlzLl9oYW5kbGVEZWxldGVCdXR0b24odGhpcyk7XG4gICAgICB9KTtcblxuICAgIHRoaXMuX2NhcmRFbGVtZW50XG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50c19fbGlrZS1idXR0b25cIilcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICB0aGlzLl9oYW5kbGVMaWtlQnV0dG9uKHRoaXMpO1xuICAgICAgfSk7XG5cbiAgICB0aGlzLl9jYXJkSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUltYWdlQ2xpY2sodGhpcy5fZGF0YSk7XG4gICAgfSk7XG4gIH1cblxuICByZW1vdmVDYXJkRWxlbWVudCgpIHtcbiAgICB0aGlzLl9jYXJkRWxlbWVudC5yZW1vdmUoKTtcbiAgICB0aGlzLl9jYXJkRWxlbWVudCA9IG51bGw7XG4gIH1cblxuICB0b2dnbGVMaWtlRWxlbWVudCgpIHtcbiAgICB0aGlzLl9jYXJkRWxlbWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNfX2xpa2UtYnV0dG9uXCIpXG4gICAgICAuY2xhc3NMaXN0LnRvZ2dsZShcImVsZW1lbnRzX19saWtlLWJ1dHRvbl9hY3RpdmVcIik7XG4gIH1cblxuICBnZXRDYXJkRWxlbWVudCgpIHtcbiAgICB0aGlzLl9jYXJkRWxlbWVudCA9IGRvY3VtZW50XG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsY3RvcilcbiAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNfX2NhcmRzXCIpXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xuXG4gICAgdGhpcy5fY2FyZEltYWdlID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50c19faW1hZ2VcIik7XG4gICAgdGhpcy5fY2FyZFRpdGxlID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50c19fdGl0bGVcIik7XG4gICAgdGhpcy5fY2FyZEltYWdlLnNyYyA9IHRoaXMuX2xpbms7XG4gICAgdGhpcy5fY2FyZEltYWdlLmFsdCA9IHRoaXMuX25hbWU7XG4gICAgdGhpcy5fY2FyZFRpdGxlLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcblxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG5cbiAgICByZXR1cm4gdGhpcy5fY2FyZEVsZW1lbnQ7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ2FyZDtcbiIsImNsYXNzIEZvcm1WYWxpZGF0b3Ige1xuICBjb25zdHJ1Y3RvcihkYXRhLCBmb3JtRWxlbWVudCkge1xuICAgIHRoaXMuX2RhdGEgPSBkYXRhO1xuICAgIHRoaXMuX2Zvcm1TZWxlY3RvciA9IGRhdGEuZm9ybVNlbGVjdG9yO1xuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBkYXRhLmlucHV0U2VsZWN0b3I7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSBkYXRhLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xuICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSBkYXRhLmluYWN0aXZlQnV0dG9uQ2xhc3M7XG4gICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gZGF0YS5pbnB1dEVycm9yQ2xhc3M7XG4gICAgdGhpcy5fZXJyb3JDbGFzcyA9IGRhdGEuZXJyb3JDbGFzcztcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xuICAgIHRoaXMuX2lucHV0TGlzdCA9IFtcbiAgICAgIC4uLnRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvciksXG4gICAgXTtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50ID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihkYXRhLnN1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcbiAgfVxuXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGVycm9yTWVzc2FnZSkge1xuICAgIHRoaXMuX2Vycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcbiAgICApO1xuXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcbiAgICB0aGlzLl9lcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBlcnJvck1lc3NhZ2U7XG4gICAgdGhpcy5fZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7XG4gIH1cblxuICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XG4gICAgdGhpcy5fZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxuICAgICk7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcbiAgICB0aGlzLl9lcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9lcnJvckNsYXNzKTtcbiAgICB0aGlzLl9lcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xuICB9XG5cbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpIHtcbiAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xuICAgIH1cbiAgfVxuXG4gIF9oYXNJbnZhbGlkSW5wdXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xuICAgIH0pO1xuICB9XG5cbiAgX3RvZ2dsZUJ1dHRvblN0YXRlKCkge1xuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoKSkge1xuICAgICAgdGhpcy5fZGlzYWJsZUJ1dHRvbigpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9lbmFibGVCdXR0b24oKTtcbiAgICB9XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcblxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KTtcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgX2Rpc2FibGVCdXR0b24oKSB7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgXCJ0cnVlXCIpO1xuICB9XG5cbiAgX2VuYWJsZUJ1dHRvbigpIHtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKTtcbiAgfVxuXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuX2Rpc2FibGVCdXR0b24oKTtcbiAgICB9KTtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG5cbiAgcmVzZXRWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRm9ybVZhbGlkYXRvcjtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XG4gIH1cblxuICBfaGFuZGxlRXNjQ2xvc2UgPSAoZXZ0KSA9PiB7XG4gICAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH07XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fY2xvc2VCdXR0b24gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fY2xvc2VcIik7XG5cbiAgICB0aGlzLl9jbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgKGV2dCkgPT4ge1xuICAgICAgaWYgKGV2dC50YXJnZXQgPT09IGV2dC5jdXJyZW50VGFyZ2V0KSB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIG9wZW4oKSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJtb2RhbF9vcGVuZWRcIik7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJtb2RhbF9vcGVuZWRcIik7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IoeyBoYW5kbGVGb3JtU3VibWl0IH0sIHBvcHVwU2VsZWN0b3IpIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcbiAgICB0aGlzLl9wb3B1cEZvcm0gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1vZGFsX19pbnB1dFwiKTtcbiAgICB0aGlzLl9zYXZlQnV0dG9uID0gdGhpcy5fcG9wdXBGb3JtLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2J1dHRvbi1zYXZlXCIpO1xuICAgIHRoaXMuX3NhdmVCdXR0b25UZXh0ID0gdGhpcy5fc2F2ZUJ1dHRvbi50ZXh0Q29udGVudDtcbiAgfVxuXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcbiAgICB0aGlzLl9mb3JtQ29udGVudCA9IHt9O1xuXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICB0aGlzLl9mb3JtQ29udGVudFtpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xuICAgIH0pO1xuICAgIHJldHVybiB0aGlzLl9mb3JtQ29udGVudDtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX3BvcHVwRm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIHRoaXMuX3BvcHVwRm9ybS5yZXNldCgpO1xuICAgIH0pO1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cblxuICBoYW5kbGVMb2FkaW5nVGV4dChpc0xvYWRpbmcsIGxvYWRpbmdUZXh0ID0gXCJTYXZpbmcuLi5cIikge1xuICAgIGlmIChpc0xvYWRpbmcpIHtcbiAgICAgIHRoaXMuX3NhdmVCdXR0b24udGV4dENvbnRlbnQgPSBsb2FkaW5nVGV4dDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fc2F2ZUJ1dHRvbi50ZXh0Q29udGVudCA9IHRoaXMuX3NhdmVCdXR0b25UZXh0O1xuICAgIH1cbiAgfVxufVxuIiwiLy8gZXhwb3J0IGNvbnN0IGluaXRpYWxDYXJkcyA9IFtcbi8vICAge1xuLy8gICAgIG5hbWU6IFwiWW9zZW1pdGUgVmFsbGV5XCIsXG4vLyAgICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L3lvc2VtaXRlLmpwZ1wiLFxuLy8gICB9LFxuLy8gICB7XG4vLyAgICAgbmFtZTogXCJMYWtlIExvdWlzZVwiLFxuLy8gICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9sYWtlLWxvdWlzZS5qcGdcIixcbi8vICAgfSxcbi8vICAge1xuLy8gICAgIG5hbWU6IFwiQmFsZCBNb3VudGFpbnNcIixcbi8vICAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvYmFsZC1tb3VudGFpbnMuanBnXCIsXG4vLyAgIH0sXG4vLyAgIHtcbi8vICAgICBuYW1lOiBcIkxhdGVtYXJcIixcbi8vICAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvbGF0ZW1hci5qcGdcIixcbi8vICAgfSxcbi8vICAge1xuLy8gICAgIG5hbWU6IFwiVmFub2lzZSBOYXRpb25hbCBQYXJrXCIsXG4vLyAgICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L3Zhbm9pc2UuanBnXCIsXG4vLyAgIH0sXG4vLyAgIHtcbi8vICAgICBuYW1lOiBcIkxhZ28gZGkgQnJhaWVzXCIsXG4vLyAgICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2xhZ28uanBnXCIsXG4vLyAgIH0sXG4vLyBdO1xuXG5leHBvcnQgY29uc3QgZWRpdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZWRpdC1idXR0b25cIik7XG5cbmV4cG9ydCBjb25zdCBhZGRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2FkZC1idXR0b25cIik7XG5cbmV4cG9ydCBjb25zdCBhdmF0YXJCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2F2YXRhci1idXR0b25cIik7XG5cbmV4cG9ydCBjb25zdCBpbnB1dE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19pbnB1dF9uYW1lXCIpO1xuXG5leHBvcnQgY29uc3QgaW5wdXRKb2IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19pbnB1dF9qb2JcIik7XG5cbmV4cG9ydCBjb25zdCBjb25maWcgPSB7XG4gIGZvcm1TZWxlY3RvcjogXCIubW9kYWxfX2Zvcm1cIixcbiAgaW5wdXRTZWxlY3RvcjogXCIubW9kYWxfX2lucHV0XCIsXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5tb2RhbF9fYnV0dG9uLXNhdmVcIixcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJtb2RhbF9fYnV0dG9uLXNhdmVfaW5hY3RpdmVcIixcbiAgaW5wdXRFcnJvckNsYXNzOiBcIm1vZGFsX19pbnB1dF90eXBlX2Vycm9yXCIsXG4gIGVycm9yQ2xhc3M6IFwibW9kYWxfX2lucHV0LWVycm9yX2FjdGl2ZVwiLFxufTtcblxuZXhwb3J0IGNvbnN0IGZvcm1WYWxpZGF0b3JzID0ge307XG4iLCJpbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xuaW1wb3J0IHtcbiAgYXZhdGFyQnV0dG9uLFxuICBlZGl0QnV0dG9uLFxuICBhZGRCdXR0b24sXG4gIGNvbmZpZyxcbiAgZm9ybVZhbGlkYXRvcnMsXG4gIGlucHV0TmFtZSxcbiAgaW5wdXRKb2IsXG59IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcbmltcG9ydCBcIi4vaW5kZXguY3NzXCI7XG5pbXBvcnQgQXBpIGZyb20gXCIuLi9jb21wb25lbnRzL0FwaS5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aFZlcmlmeSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhWZXJpZnkuanNcIjtcblxuLy9BcGlcbmNvbnN0IGFwaSA9IG5ldyBBcGkoXCJodHRwczovL2Fyb3VuZC1hcGkuZW4udHJpcGxldGVuLXNlcnZpY2VzLmNvbS92MVwiLCB7XG4gIGF1dGhvcml6YXRpb246IFwiNTdhYTc0NjMtZjgzOS00NGVhLTgzNWItNDkzY2ZmOGJlYTYzXCIsXG4gIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxufSk7XG5cbmFwaVxuICAuZ2V0SW5pdGlhbENhcmRzKClcbiAgLnRoZW4oKHJlcykgPT4ge1xuICAgIHJlcy5mb3JFYWNoKChjYXJkKSA9PiB7XG4gICAgICBhZGRDYXJkKGNhcmQpO1xuICAgIH0pO1xuICB9KVxuICAuY2F0Y2goY29uc29sZS5lcnJvcik7XG5cbmFwaVxuICAuZ2V0VXNlckluZm8oKVxuICAudGhlbigocmVzKSA9PiB7XG4gICAgdXNlckluZm8uc2V0VXNlckluZm8oe1xuICAgICAgbmFtZTogcmVzLm5hbWUsXG4gICAgICBqb2I6IHJlcy5hYm91dCxcbiAgICB9KTtcbiAgICB1c2VySW5mby5zZXRVc2VyQXZhdGFyKHJlcy5hdmF0YXIpO1xuICB9KVxuICAuY2F0Y2goKGVycikgPT4ge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgfSk7XG5cbi8vZnVuY3Rpb25zXG5jb25zdCBoYW5kbGVBZGRTdWJtaXQgPSAoZGF0YSkgPT4ge1xuICBhZGRGb3JtUG9wdXAuaGFuZGxlTG9hZGluZ1RleHQodHJ1ZSk7XG4gIGFwaVxuICAgIC5hZGROZXdDYXJkKGRhdGEubmFtZSwgZGF0YS5saW5rKVxuICAgIC50aGVuKChjYXJkRGF0YSkgPT4ge1xuICAgICAgYWRkQ2FyZChjYXJkRGF0YSk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihlcnIpKVxuICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgIGFkZEZvcm1Qb3B1cC5oYW5kbGVMb2FkaW5nVGV4dChmYWxzZSk7XG4gICAgfSk7XG59O1xuXG5jb25zdCBoYW5kbGVFZGl0U3VibWl0ID0gKGlucHV0VmFsdWUpID0+IHtcbiAgZWRpdEZvcm1Qb3B1cC5oYW5kbGVMb2FkaW5nVGV4dCh0cnVlKTtcbiAgYXBpXG4gICAgLmVkaXRQcm9maWxlKGlucHV0VmFsdWUudGl0bGUsIGlucHV0VmFsdWUuZGVzY3JpcHRpb24pXG4gICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIGNvbnN0IHByb2ZpbGVJbmZvID0ge307XG4gICAgICBwcm9maWxlSW5mby5uYW1lID0gZGF0YS5uYW1lO1xuICAgICAgcHJvZmlsZUluZm8uam9iID0gZGF0YS5hYm91dDtcbiAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHByb2ZpbGVJbmZvKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmVycm9yKGVycikpXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgZWRpdEZvcm1Qb3B1cC5oYW5kbGVMb2FkaW5nVGV4dChmYWxzZSk7XG4gICAgfSk7XG59O1xuXG5jb25zdCBoYW5kbGVEZWxldGVCdXR0b24gPSAoY2FyZCkgPT4ge1xuICBkZWxldGVQb3B1cC5vcGVuKCk7XG5cbiAgZGVsZXRlUG9wdXAuc2V0SGFuZGxlRGVsZXRlTWV0aG9kKCgpID0+IHtcbiAgICBhcGlcbiAgICAgIC5kZWxldGVDYXJkKGNhcmQuX2lkKVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBjYXJkLnJlbW92ZUNhcmRFbGVtZW50KCk7XG4gICAgICAgIGRlbGV0ZVBvcHVwLmNsb3NlKCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xuICB9KTtcbn07XG5cbmNvbnN0IGhhbmRsZUF2YXRhclN1Ym1pdCA9IChkYXRhKSA9PiB7XG4gIGFwaS51cGRhdGVBdmF0YXIoZGF0YS5hdmF0YXIpLnRoZW4oKHJlcykgPT4ge1xuICAgIHVzZXJJbmZvLnNldFVzZXJBdmF0YXIocmVzLmF2YXRhcik7XG4gIH0pO1xufTtcblxuY29uc3QgaGFuZGxlTGlrZUJ1dHRvbiA9IChjYXJkKSA9PiB7XG4gIGlmICghY2FyZC5pc0xpa2VkKSB7XG4gICAgYXBpXG4gICAgICAuYWRkTGlrZXMoY2FyZC5faWQpXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIGNhcmQuaXNMaWtlZCA9ICFjYXJkLmlzTGlrZWQ7XG4gICAgICAgIGNhcmQudG9nZ2xlTGlrZUVsZW1lbnQoKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihlcnIpKTtcbiAgfSBlbHNlIHtcbiAgICBhcGlcbiAgICAgIC5yZW1vdmVMaWtlcyhjYXJkLl9pZClcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgY2FyZC5pc0xpa2VkID0gIWNhcmQuaXNMaWtlZDtcbiAgICAgICAgY2FyZC50b2dnbGVMaWtlRWxlbWVudCgpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmVycm9yKGVycikpO1xuICB9XG59O1xuXG4vL2NyZWF0ZSBjbGFzc2VzXG5jb25zdCBjcmVhdGVDYXJkID0gKGRhdGEpID0+IHtcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBuZXcgQ2FyZChcbiAgICB7XG4gICAgICBkYXRhLFxuICAgICAgaGFuZGxlSW1hZ2VDbGljazogKCkgPT4ge1xuICAgICAgICBwb3B1cFdpdGhJbWFnZS5vcGVuKGRhdGEpO1xuICAgICAgfSxcbiAgICAgIGhhbmRsZURlbGV0ZUJ1dHRvbixcbiAgICAgIGhhbmRsZUxpa2VCdXR0b24sXG4gICAgfSxcbiAgICBcIiNjYXJkLXRlbXBsZXRlXCJcbiAgKS5nZXRDYXJkRWxlbWVudCgpO1xuICByZXR1cm4gY2FyZEVsZW1lbnQ7XG59O1xuXG5jb25zdCBhZGRDYXJkID0gKGRhdGEpID0+IHtcbiAgbmV3U2VjdGlvbi5hZGRJdGVtKGNyZWF0ZUNhcmQoZGF0YSkpO1xufTtcblxuY29uc3QgbmV3U2VjdGlvbiA9IG5ldyBTZWN0aW9uKFxuICB7XG4gICAgaXRlbXM6IFtdLFxuICAgIHJlbmRlcmVyOiAoZGF0YSkgPT4ge1xuICAgICAgYWRkQ2FyZChkYXRhKTtcbiAgICB9LFxuICB9LFxuICBcIi5lbGVtZW50c19fY29udGFpbmVyXCJcbik7XG5cbmNvbnN0IHBvcHVwV2l0aEltYWdlID0gbmV3IFBvcHVwV2l0aEltYWdlKFwiI21vZGFsX19waWN0dXJlXCIpO1xuXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyhcbiAge1xuICAgIG5hbWVTZWxlY3RvcjogXCIucHJvZmlsZV9fdGl0bGVcIixcbiAgICBqb2JTZWxlY3RvcjogXCIucHJvZmlsZV9fc3VidGl0bGVcIixcbiAgICBhdmF0YXJTZWxlY3RvcjogXCIucHJvZmlsZV9fYXZhdGFyXCIsXG4gIH0sXG4gIFwiI21vZGFsX19lZGl0XCJcbik7XG5cbmNvbnN0IGFkZEZvcm1Qb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKFxuICB7IGhhbmRsZUZvcm1TdWJtaXQ6IGhhbmRsZUFkZFN1Ym1pdCB9LFxuICBcIiNtb2RhbF9fYWRkXCJcbik7XG5cbmNvbnN0IGVkaXRGb3JtUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShcbiAge1xuICAgIGhhbmRsZUZvcm1TdWJtaXQ6IGhhbmRsZUVkaXRTdWJtaXQsXG4gIH0sXG4gIFwiI21vZGFsX19lZGl0XCJcbik7XG5cbmNvbnN0IGRlbGV0ZVBvcHVwID0gbmV3IFBvcHVwV2l0aFZlcmlmeShcIiNtb2RhbF9fZGVsZXRlXCIpO1xuXG5jb25zdCBhdmF0YXJGb3JtUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShcbiAgeyBoYW5kbGVGb3JtU3VibWl0OiBoYW5kbGVBdmF0YXJTdWJtaXQgfSxcbiAgXCIjbW9kYWxfX2F2YXRhclwiXG4pO1xuXG4vL2NhbGwgY2xhc3MgbWV0aG9kXG5uZXdTZWN0aW9uLnJlbmRlcmVySXRlbXMoKTtcbnBvcHVwV2l0aEltYWdlLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5hZGRGb3JtUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbmVkaXRGb3JtUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbmRlbGV0ZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5hdmF0YXJGb3JtUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuLy9jcmVhdGUgYnV0dG9uIGV2ZW50TGlzdGVuZXJzXG5lZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGVkaXRGb3JtUG9wdXAub3BlbigpO1xuICBjb25zdCBwcm9maWxlSW5mbyA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XG4gIGlucHV0TmFtZS52YWx1ZSA9IHByb2ZpbGVJbmZvLm5hbWU7XG4gIGlucHV0Sm9iLnZhbHVlID0gcHJvZmlsZUluZm8uam9iO1xuICBmb3JtVmFsaWRhdG9yc1tcInByb2ZpbGUtZm9ybVwiXS5yZXNldFZhbGlkYXRpb24oKTtcbn0pO1xuXG5hZGRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgYWRkRm9ybVBvcHVwLm9wZW4oKTtcbn0pO1xuXG5hdmF0YXJCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgYXZhdGFyRm9ybVBvcHVwLm9wZW4oKTtcbn0pO1xuXG4vL2Zvcm0gdmFsaWRhdGlvblxuY29uc3QgZW5hYmxlVmFsaWRhdGlvbiA9IChjb25maWcpID0+IHtcbiAgY29uc3QgZm9ybUxpc3QgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoY29uZmlnLmZvcm1TZWxlY3RvcikpO1xuXG4gIGZvcm1MaXN0LmZvckVhY2goKGZvcm1FbGVtZW50KSA9PiB7XG4gICAgY29uc3QgdmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnLCBmb3JtRWxlbWVudCk7XG4gICAgY29uc3QgZm9ybU5hbWUgPSBmb3JtRWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJpZFwiKTtcblxuICAgIGZvcm1WYWxpZGF0b3JzW2Zvcm1OYW1lXSA9IHZhbGlkYXRvcjtcbiAgICB2YWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuICB9KTtcbn07XG5cbmVuYWJsZVZhbGlkYXRpb24oY29uZmlnKTtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XG4gIGNvbnN0cnVjdG9yKGJhc2VVcmwsIGhlYWRlcikge1xuICAgIHRoaXMuX2Jhc2VVcmwgPSBiYXNlVXJsO1xuICAgIHRoaXMuX2hlYWRlciA9IGhlYWRlcjtcbiAgfVxuXG4gIF9jaGVja1Byb21pc2UocmVzKSB7XG4gICAgaWYgKHJlcy5vaykge1xuICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6JHtyZXMuc3RhdHVzfWApO1xuICB9XG5cbiAgX2dldEZldGNoKHVybCwgb3B0aW9ucykge1xuICAgIHJldHVybiBmZXRjaCh1cmwsIG9wdGlvbnMpLnRoZW4odGhpcy5fY2hlY2tQcm9taXNlKTtcbiAgfVxuXG4gIGdldEluaXRpYWxDYXJkcygpIHtcbiAgICByZXR1cm4gdGhpcy5fZ2V0RmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXIsXG4gICAgfSk7XG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4gdGhpcy5fZ2V0RmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXIsXG4gICAgfSkudGhlbigodXNlckluZm8pID0+IHtcbiAgICAgIHJldHVybiB1c2VySW5mbztcbiAgICB9KTtcbiAgfVxuXG4gIGVkaXRQcm9maWxlKG5hbWUsIGFib3V0KSB7XG4gICAgcmV0dXJuIHRoaXMuX2dldEZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXIsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG5hbWUsXG4gICAgICAgIGFib3V0LFxuICAgICAgfSksXG4gICAgfSk7XG4gIH1cblxuICBhZGROZXdDYXJkKG5hbWUsIGxpbmspIHtcbiAgICByZXR1cm4gdGhpcy5fZ2V0RmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBuYW1lLFxuICAgICAgICBsaW5rLFxuICAgICAgfSksXG4gICAgfSk7XG4gIH1cblxuICBkZWxldGVDYXJkKGNhcmRJZCkge1xuICAgIHJldHVybiB0aGlzLl9nZXRGZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2NhcmRJZH1gLCB7XG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXIsXG4gICAgfSk7XG4gIH1cblxuICBhZGRMaWtlcyhjYXJkSWQpIHtcbiAgICByZXR1cm4gdGhpcy5fZ2V0RmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9L2xpa2VzYCwge1xuICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyLFxuICAgIH0pO1xuICB9XG5cbiAgcmVtb3ZlTGlrZXMoY2FyZElkKSB7XG4gICAgcmV0dXJuIHRoaXMuX2dldEZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfS9saWtlc2AsIHtcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcixcbiAgICB9KTtcbiAgfVxuXG4gIHVwZGF0ZUF2YXRhcihhdmF0YXIpIHtcbiAgICByZXR1cm4gdGhpcy5fZ2V0RmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXIsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIGF2YXRhcixcbiAgICAgIH0pLFxuICAgIH0pO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcbiAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XG4gIH1cblxuICByZW5kZXJlckl0ZW1zKCkge1xuICAgIHRoaXMuX2l0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xuICAgIH0pO1xuICB9XG5cbiAgYWRkSXRlbShlbGVtZW50KSB7XG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX3BvcHVwSW1hZ2UgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIFwiLm1vZGFsX19waWN0dXJlX2xhcmdlXCJcbiAgICApO1xuICAgIHRoaXMuX3BvcHVwSW1hZ2VUaXRsZSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgXCIubW9kYWxfX3BpY3R1cmVfdGl0bGVcIlxuICAgICk7XG4gIH1cblxuICBvcGVuKGRhdGEpIHtcbiAgICB0aGlzLl9wb3B1cEltYWdlLnNyYyA9IGRhdGEubGluaztcbiAgICB0aGlzLl9wb3B1cEltYWdlLmFsdCA9IGRhdGEubmFtZTtcbiAgICB0aGlzLl9wb3B1cEltYWdlVGl0bGUudGV4dENvbnRlbnQgPSBkYXRhLm5hbWU7XG4gICAgc3VwZXIub3BlbigpO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XG4gIGNvbnN0cnVjdG9yKHsgbmFtZVNlbGVjdG9yLCBqb2JTZWxlY3RvciwgYXZhdGFyU2VsZWN0b3IgfSwgcG9wdXBTZWxlY3Rvcikge1xuICAgIHRoaXMuX3Byb2ZpbGVOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihuYW1lU2VsZWN0b3IpO1xuICAgIHRoaXMuX3Byb2ZpbGVKb2IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGpvYlNlbGVjdG9yKTtcbiAgICB0aGlzLl9wcm9maWxlQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhdmF0YXJTZWxlY3Rvcik7XG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogdGhpcy5fcHJvZmlsZU5hbWUudGV4dENvbnRlbnQsXG4gICAgICBqb2I6IHRoaXMuX3Byb2ZpbGVKb2IudGV4dENvbnRlbnQsXG4gICAgICBhdmF0YXI6IHRoaXMuX3Byb2ZpbGVBdmF0YXIuc3JjLFxuICAgIH07XG4gIH1cblxuICAvL2EgcHVibGljIG1ldGhvZCB3aGljaCB0YWtlcyBuZXcgdXNlciBkYXRhIGFuZCBhZGRzIGl0IHRvIHRoZSBwYWdlXG4gIHNldFVzZXJJbmZvKHsgbmFtZSwgam9iIH0pIHtcbiAgICB0aGlzLl9wcm9maWxlTmFtZS50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgdGhpcy5fcHJvZmlsZUpvYi50ZXh0Q29udGVudCA9IGpvYjtcbiAgfVxuXG4gIHNldFVzZXJBdmF0YXIoYXZhdGFyKSB7XG4gICAgdGhpcy5fcHJvZmlsZUF2YXRhci5zcmMgPSBhdmF0YXI7XG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhWZXJpZnkgZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgfVxuXG4gIHNldEhhbmRsZURlbGV0ZU1ldGhvZChoYW5kbGVEZWxldGVTdWJtaXQpIHtcbiAgICB0aGlzLl9oYW5kbGVEZWxldGVTdWJtaXQgPSBoYW5kbGVEZWxldGVTdWJtaXQ7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19idXR0b24tY29uZmlybVwiKVxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PiB7XG4gICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLl9oYW5kbGVEZWxldGVTdWJtaXQoKTtcbiAgICAgICAgLy8gdGhpcy5jbG9zZSgpO1xuICAgICAgfSk7XG5cbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG59XG4iXSwibmFtZXMiOlsiY29uc3RydWN0b3IiLCJfcmVmIiwiY2FyZFNlbGVjdG9yIiwiZGF0YSIsImhhbmRsZUltYWdlQ2xpY2siLCJoYW5kbGVEZWxldGVCdXR0b24iLCJoYW5kbGVMaWtlQnV0dG9uIiwidGhpcyIsIl9uYW1lIiwibmFtZSIsIl9saW5rIiwibGluayIsIl9pZCIsIl9jYXJkU2VsY3RvciIsIl9oYW5kbGVJbWFnZUNsaWNrIiwiX2hhbmRsZURlbGV0ZUJ1dHRvbiIsIl9oYW5kbGVMaWtlQnV0dG9uIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiX2NhcmRFbGVtZW50IiwicXVlcnlTZWxlY3RvciIsImFkZEV2ZW50TGlzdGVuZXIiLCJfY2FyZEltYWdlIiwiX2RhdGEiLCJyZW1vdmVDYXJkRWxlbWVudCIsInJlbW92ZSIsInRvZ2dsZUxpa2VFbGVtZW50IiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwiZ2V0Q2FyZEVsZW1lbnQiLCJkb2N1bWVudCIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfY2FyZFRpdGxlIiwic3JjIiwiYWx0IiwidGV4dENvbnRlbnQiLCJmb3JtRWxlbWVudCIsIl9mb3JtU2VsZWN0b3IiLCJmb3JtU2VsZWN0b3IiLCJfaW5wdXRTZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJfc3VibWl0QnV0dG9uU2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsIl9pbnB1dEVycm9yQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJfZXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJfZm9ybUVsZW1lbnQiLCJfaW5wdXRMaXN0IiwicXVlcnlTZWxlY3RvckFsbCIsIl9idXR0b25FbGVtZW50IiwiX3Nob3dJbnB1dEVycm9yIiwiaW5wdXRFbGVtZW50IiwiZXJyb3JNZXNzYWdlIiwiX2Vycm9yRWxlbWVudCIsImlkIiwiYWRkIiwiX2hpZGVJbnB1dEVycm9yIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsInZhbGlkaXR5IiwidmFsaWQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9oYXNJbnZhbGlkSW5wdXQiLCJzb21lIiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiX2Rpc2FibGVCdXR0b24iLCJfZW5hYmxlQnV0dG9uIiwiZm9yRWFjaCIsInNldEF0dHJpYnV0ZSIsInJlbW92ZUF0dHJpYnV0ZSIsImVuYWJsZVZhbGlkYXRpb24iLCJldnQiLCJwcmV2ZW50RGVmYXVsdCIsInJlc2V0VmFsaWRhdGlvbiIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cEVsZW1lbnQiLCJfaGFuZGxlRXNjQ2xvc2UiLCJrZXkiLCJjbG9zZSIsInNldEV2ZW50TGlzdGVuZXJzIiwiX2Nsb3NlQnV0dG9uIiwidGFyZ2V0IiwiY3VycmVudFRhcmdldCIsIm9wZW4iLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZUZvcm1TdWJtaXQiLCJzdXBlciIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX3BvcHVwRm9ybSIsIl9zYXZlQnV0dG9uIiwiX3NhdmVCdXR0b25UZXh0IiwiX2dldElucHV0VmFsdWVzIiwiX2Zvcm1Db250ZW50IiwiaW5wdXQiLCJ2YWx1ZSIsInJlc2V0IiwiaGFuZGxlTG9hZGluZ1RleHQiLCJpc0xvYWRpbmciLCJsb2FkaW5nVGV4dCIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsImVkaXRCdXR0b24iLCJhZGRCdXR0b24iLCJhdmF0YXJCdXR0b24iLCJpbnB1dE5hbWUiLCJpbnB1dEpvYiIsImZvcm1WYWxpZGF0b3JzIiwiYXBpIiwiYmFzZVVybCIsImhlYWRlciIsIl9iYXNlVXJsIiwiX2hlYWRlciIsIl9jaGVja1Byb21pc2UiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiX2dldEZldGNoIiwidXJsIiwib3B0aW9ucyIsImZldGNoIiwidGhlbiIsImdldEluaXRpYWxDYXJkcyIsImhlYWRlcnMiLCJnZXRVc2VySW5mbyIsInVzZXJJbmZvIiwiZWRpdFByb2ZpbGUiLCJhYm91dCIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiYWRkTmV3Q2FyZCIsImRlbGV0ZUNhcmQiLCJjYXJkSWQiLCJhZGRMaWtlcyIsInJlbW92ZUxpa2VzIiwidXBkYXRlQXZhdGFyIiwiYXZhdGFyIiwiYXV0aG9yaXphdGlvbiIsImNhcmQiLCJhZGRDYXJkIiwiY2F0Y2giLCJjb25zb2xlIiwiZXJyb3IiLCJzZXRVc2VySW5mbyIsImpvYiIsInNldFVzZXJBdmF0YXIiLCJlcnIiLCJkZWxldGVQb3B1cCIsInNldEhhbmRsZURlbGV0ZU1ldGhvZCIsImlzTGlrZWQiLCJuZXdTZWN0aW9uIiwiYWRkSXRlbSIsIkNhcmQiLCJwb3B1cFdpdGhJbWFnZSIsImNyZWF0ZUNhcmQiLCJjb250YWluZXJTZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfaXRlbXMiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwicmVuZGVyZXJJdGVtcyIsIml0ZW0iLCJlbGVtZW50IiwicHJlcGVuZCIsIl9wb3B1cEltYWdlIiwiX3BvcHVwSW1hZ2VUaXRsZSIsIm5hbWVTZWxlY3RvciIsImpvYlNlbGVjdG9yIiwiYXZhdGFyU2VsZWN0b3IiLCJfcHJvZmlsZU5hbWUiLCJfcHJvZmlsZUpvYiIsIl9wcm9maWxlQXZhdGFyIiwiX3JlZjIiLCJhZGRGb3JtUG9wdXAiLCJjYXJkRGF0YSIsImZpbmFsbHkiLCJlZGl0Rm9ybVBvcHVwIiwiaW5wdXRWYWx1ZSIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJwcm9maWxlSW5mbyIsImhhbmRsZURlbGV0ZVN1Ym1pdCIsIl9oYW5kbGVEZWxldGVTdWJtaXQiLCJhdmF0YXJGb3JtUG9wdXAiLCJjb25maWciLCJBcnJheSIsImZyb20iLCJ2YWxpZGF0b3IiLCJGb3JtVmFsaWRhdG9yIiwiZm9ybU5hbWUiLCJnZXRBdHRyaWJ1dGUiXSwic291cmNlUm9vdCI6IiJ9